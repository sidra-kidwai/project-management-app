<%= form_for @project do |f| %>
  <%= render 'shared/error_messages', object: @project %>
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, autofocus: true, autocomplete: "name", required: true, class: "input form-control" %>
      </div>
    </div>

    <div class="col-md-6 col-md-offset-3">
      <div class="form-group">
        <%= f.label :details %>
        <%= f.text_area :details, required: true, class: "input form-control" %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="form-group">
        <%= f.label :client_id, "Client" %>
        <%= f.collection_select :client_id, Client.all, :id, :name, {prompt: true}, {class: "form-control"} %>
      </div>
    </div>
    <div class="col-md-6 col-md-offset-3">
      <div class="form-group">
        <h3 class="text-center">Project users</h3>
        <%= f.collection_select :user_ids, User.user, :id, :name,
          {}, { data: {placeholder: 'Select Users'}, multiple: true, class: 'chosen-select form-control' } %>
      </div>
    </div>
  </div>

  <div class="row">
    <h3>Attachments</h3>
    <div class="col-md-6 col-md-offset-3">
      <div id='attachments'>
        <%= f.fields_for :attachments do |attachment| %>
          <%= render 'attachment_fields', f: attachment %>
        <% end %>
        <div class='links text-right'>
          <%= link_to_add_association (fa_icon 'plus', text: 'Add attachment'), f, :attachments, class: 'btn btn-sm btn-info' %>
        </div>
      </div>
    </div>
  </div>

  <div class="actions text-right">
    <%= f.submit check_action_tag, class: "btn btn-success" %>
    <%= link_to "Back", :back, class: "btn btn-info" %>
  </div>
<% end %>
